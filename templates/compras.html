{% extends 'base.html' %}

{% block links_css %}
{% endblock %}

{% block title %} Cadastro de Compras {% endblock %}

{% block style_scripts %}
<style>


</style>
<script>
    
</script>
{% endblock %}

{% block content %}

<main>
    <header class="cabecalho-inferior">
        <div>
            <h3 id="btn-adicionar-compra"> Adicinar Compra </h3>
            <button onclick="abrirModal()">
                <img src="https://img.icons8.com/ios/50/plus-key.png" alt="botao de adição">
            </button>
        </div>

        <script>
            function abrirModal () {
                var janelaModal = document.querySelector(`.modal`);
                if (janelaModal) {
                    janelaModal.style.display = `block`;
                }
            }

            function fecharModal () {
                var janelaModal = document.querySelector(`.modal`);
                if (janelaModal) {
                    janelaModal.style.display = `none`;
                }
            }
        </script>

        <style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
    color: #023047
}

.modal {
    display: none;
}

.page {
    display: flex;
    flex-direction: column;
    align-items: center;
    align-content: center;
    justify-content: center;
    
}

.form-compras {
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border-radius: 7px;
    padding: 40px;
    box-shadow: 10px 10px 40px rgba(0, 0, 0, 0.4);
    gap: 5px;
    width: 620px;
}

.areaLogin img {
    width: 420px;
}

.form-compras h1 {
    padding: 0;
    margin: 0;
    font-weight: 500;
    font-size: 2.3em;
    color: black;
}

.form-compras p {
    display: inline-block;
    font-size: 14px;
    color: #666;
    margin-bottom: 25px;
}

.form-compras input {
    padding: 15px;
    font-size: 14px;
    color: black;
    border: 1px solid #ccc;
    margin-bottom: 20px;
    margin-top: 5px;
    border-radius: 4px;
    transition: all linear 160ms;
    outline: none;
}

.form-compras input:focus {
    border: 1px solid #2b4c7e;
}

.form-compras label {
    font-size: 14px;
    font-weight: 600;
    color: black
}

.form-compras a {
    display: inline-block;
    margin-bottom: 20px;
    font-size: 13px;
    color: #555;
    transition: all linear 160ms;
}

.form-compras a:hover {
    color: #1f1f20;
}

.camposForm {
    display: grid;
}

.btn {
    background-color: #2b4c7e;
    color: #fff;
    font-size: 14px;
    font-weight: 600;
    border: none !important;
    transition: all linear 160ms;
    cursor: pointer;
    margin: 0 !important;

}

.form-compras .btn {
    color: white;
}

.btn:hover {
    transform: scale(1.05);
    background-color: #2b4c7e;
}

.card {
    display: grid;
    grid-template-columns: auto auto auto auto;
    row-gap: 20px;
    margin-top: 10px;
    padding: 8px;
    background-color: #2b4c7e;
    border-radius: 10px;
}
        </style>
    </header>

    <div class="modal"> 
        <div class="page">
            <form  action="/cadastro-compras" method="POST" class="form-compras">
                <h1>Cadastro de Compra</h1>
                <p>Digite os dados da compra nos campos abaixo:</p>
                <div class="camposForm">
                    
                    <label for="nome">Nome do Produto</label>
                    <input id="nome_produto" name="nome_produto" type="text" autofocus="true" required/>
    
                    <label for="marca">Marca</label>
                    <input id="marca" name="marca" type="text" required/>
    
                    <label for="valor">Valor Unitário</label>
                    <input id="valor" name="valor" type="number" required/>
    
                    <label for="preco">Preço Unitário</label>
                    <input id="preco" name="preco" type="number" required/>
                
                    <label for="quantidade">Quantidade</label>
                    <input id="quantidade" name="quantidade" type="number" required/>
    
                    <label for="data-compra">Data da Compra</label>
                    <input id="data-compra" name="data-compra" type="date" required/>
    
                    <label for="data-validade">Data da Validade</label>
                    <input id="data-validade" name="data-validade" type="date" required/>
                </div>
    
                <input type="submit" value="Confirmar" class="btn" id="botao-confirmar"/>
                <input type="button" value="Cancelar" class="btn" id="botao-cancelar" onclick="fecharModal()"/>
            </form>
        </div>
    </div>

    <!-- desenhar cartoes na pagina -->
    {% if lista_produtos %}
        {% for produto in lista_produtos %}
        <div class="card">
            <div class="informacao-produto">
                Nome: {{ produto["nome"] }}
            </div>
            <div class="informacao-produto">
                Marca: {{ produto["marca"] }}
            </div>
            <div class="informacao-produto">
                Valor: {{ produto["valor"] }}
            </div>
            <div class="informacao-produto">
                Preço: {{ produto["preco"] }}
            </div>
            <div class="informacao-produto">
                Quantidade: {{ produto["quantidade"] }}
            </div>
            <div class="informacao-produto">
                Data da Compra: {{ produto["data_compra"] }}
            </div>
            <div class="informacao-produto">
                Data de Validade: {{ produto["data_validade"] }}
            </div>
        </div>
        {% endfor %}
    {% endif %}
</main>

{% endblock %}
